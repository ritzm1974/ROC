{"ast":null,"code":"import { fadeInOut } from '../../services/animations';\nimport { Permission } from '../../models/permission.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/account.service\";\nimport * as i3 from \"../../directives/bootstrap-tab.directive\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../controls/user-info.component\";\nimport * as i6 from \"../controls/user-preferences.component\";\nimport * as i7 from \"../controls/users-management.component\";\nimport * as i8 from \"../controls/roles-management.component\";\nimport * as i9 from \"@ngx-translate/core\";\nconst _c0 = [\"tab\"];\n\nfunction SettingsComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"app-user-info\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@fadeInOut\", undefined);\n  }\n}\n\nfunction SettingsComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"app-user-preferences\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@fadeInOut\", undefined);\n  }\n}\n\nfunction SettingsComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelement(1, \"app-users-management\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@fadeInOut\", undefined);\n  }\n}\n\nfunction SettingsComponent_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelement(1, \"app-roles-management\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@fadeInOut\", undefined);\n  }\n}\n\nconst _c1 = function () {\n  return [];\n};\n\nexport let SettingsComponent = /*#__PURE__*/(() => {\n  class SettingsComponent {\n    constructor(router, route, accountService) {\n      this.router = router;\n      this.route = route;\n      this.accountService = accountService;\n      this.isProfileActivated = true;\n      this.isPreferencesActivated = false;\n      this.isUsersActivated = false;\n      this.isRolesActivated = false;\n      this.profileTab = 'profile';\n      this.preferencesTab = 'preferences';\n      this.usersTab = 'users';\n      this.rolesTab = 'roles';\n    }\n\n    ngOnInit() {\n      this.fragmentSubscription = this.route.fragment.subscribe(anchor => this.showContent(anchor));\n    }\n\n    ngOnDestroy() {\n      this.fragmentSubscription.unsubscribe();\n    }\n\n    showContent(anchor) {\n      if (anchor) {\n        anchor = anchor.toLowerCase();\n      }\n\n      if (this.isFragmentEquals(anchor, this.usersTab) && !this.canViewUsers || this.isFragmentEquals(anchor, this.rolesTab) && !this.canViewRoles) {\n        return;\n      }\n\n      this.tab.show(`#${anchor || this.profileTab}Tab`);\n    }\n\n    isFragmentEquals(fragment1, fragment2) {\n      if (fragment1 == null) {\n        fragment1 = '';\n      }\n\n      if (fragment2 == null) {\n        fragment2 = '';\n      }\n\n      return fragment1.toLowerCase() === fragment2.toLowerCase();\n    }\n\n    onShowTab(event) {\n      const activeTab = event.target.hash.split('#', 2).pop();\n      this.isProfileActivated = activeTab === this.profileTab;\n      this.isPreferencesActivated = activeTab === this.preferencesTab;\n      this.isUsersActivated = activeTab === this.usersTab;\n      this.isRolesActivated = activeTab === this.rolesTab;\n      this.router.navigate([], {\n        fragment: activeTab\n      });\n    }\n\n    get canViewUsers() {\n      return this.accountService.userHasPermission(Permission.viewUsersPermission);\n    }\n\n    get canViewRoles() {\n      return this.accountService.userHasPermission(Permission.viewRolesPermission);\n    }\n\n  }\n\n  SettingsComponent.ɵfac = function SettingsComponent_Factory(t) {\n    return new (t || SettingsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AccountService));\n  };\n\n  SettingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SettingsComponent,\n    selectors: [[\"app-settings\"]],\n    viewQuery: function SettingsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tab = _t.first);\n      }\n    },\n    decls: 55,\n    vars: 42,\n    consts: [[1, \"container\", \"settings-page\"], [1, \"pageHeader\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-cog\", \"fa-lg\", \"page-caption\"], [1, \"d-sm-flex\", \"flex-row\"], [\"appBootstrapTab\", \"\", \"role\", \"navigation\", 1, \"nav\", \"nav-tabs\", \"nav-tabs--vertical\", \"nav-tabs--left\", 3, \"showBSTab\"], [\"tab\", \"bootstrap-tab\"], [1, \"nav-item\"], [\"id\", \"profileTab\", \"fragment\", \"profile\", \"data-target\", \"#profile\", \"href\", \"#profile\", \"data-toggle\", \"tab\", \"role\", \"tab\", \"aria-controls\", \"profile\", 1, \"nav-link\", \"active\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-user-circle-o\", \"fa-fw\"], [\"id\", \"preferencesTab\", \"fragment\", \"preferences\", \"data-target\", \"#preferences\", \"href\", \"#preferences\", \"data-toggle\", \"tab\", \"role\", \"tab\", \"aria-controls\", \"preferences\", 1, \"nav-link\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-sliders\", \"fa-fw\"], [1, \"nav-item\", 3, \"hidden\"], [\"id\", \"usersTab\", \"fragment\", \"users\", \"data-target\", \"#users\", \"href\", \"#users\", \"data-toggle\", \"tab\", \"role\", \"tab\", \"aria-controls\", \"users\", 1, \"nav-link\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-users\", \"fa-fw\"], [\"id\", \"rolesTab\", \"fragment\", \"roles\", \"data-target\", \"#roles\", \"href\", \"#roles\", \"data-toggle\", \"tab\", \"role\", \"tab\", \"aria-controls\", \"roles\", 1, \"nav-link\", 3, \"routerLink\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-shield\", \"fa-fw\"], [1, \"tab-content\", \"w-100\"], [\"id\", \"profile\", \"role\", \"tabpanel\", 1, \"tab-pane\", \"show\", \"active\"], [1, \"separator-hr\"], [\"class\", \"content-container pl-lg-2\", 4, \"ngIf\"], [\"id\", \"preferences\", \"role\", \"tabpanel\", 1, \"tab-pane\"], [\"id\", \"users\", \"role\", \"tabpanel\", 1, \"tab-pane\"], [\"class\", \"content-container pl-lg-1\", 4, \"ngIf\"], [\"id\", \"roles\", \"role\", \"tabpanel\", 1, \"tab-pane\"], [1, \"content-container\", \"pl-lg-2\"], [1, \"content-container\", \"pl-lg-1\"]],\n    template: function SettingsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"h3\");\n        i0.ɵɵelement(3, \"i\", 2);\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"translate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\")(7, \"div\", 3)(8, \"ul\", 4, 5);\n        i0.ɵɵlistener(\"showBSTab\", function SettingsComponent_Template_ul_showBSTab_8_listener($event) {\n          return ctx.onShowTab($event);\n        });\n        i0.ɵɵelementStart(10, \"li\", 6)(11, \"a\", 7);\n        i0.ɵɵelement(12, \"i\", 8);\n        i0.ɵɵtext(13);\n        i0.ɵɵpipe(14, \"translate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"li\", 6)(16, \"a\", 9);\n        i0.ɵɵelement(17, \"i\", 10);\n        i0.ɵɵtext(18);\n        i0.ɵɵpipe(19, \"translate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"li\", 11)(21, \"a\", 12);\n        i0.ɵɵelement(22, \"i\", 13);\n        i0.ɵɵtext(23);\n        i0.ɵɵpipe(24, \"translate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"li\", 11)(26, \"a\", 14);\n        i0.ɵɵelement(27, \"i\", 15);\n        i0.ɵɵtext(28);\n        i0.ɵɵpipe(29, \"translate\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(30, \"div\", 16)(31, \"div\", 17)(32, \"h4\");\n        i0.ɵɵtext(33);\n        i0.ɵɵpipe(34, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"hr\", 18);\n        i0.ɵɵtemplate(36, SettingsComponent_div_36_Template, 2, 1, \"div\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 20)(38, \"h4\");\n        i0.ɵɵtext(39);\n        i0.ɵɵpipe(40, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"hr\", 18);\n        i0.ɵɵtemplate(42, SettingsComponent_div_42_Template, 2, 1, \"div\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"div\", 21)(44, \"h4\");\n        i0.ɵɵtext(45);\n        i0.ɵɵpipe(46, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(47, \"hr\", 18);\n        i0.ɵɵtemplate(48, SettingsComponent_div_48_Template, 2, 1, \"div\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"div\", 23)(50, \"h4\");\n        i0.ɵɵtext(51);\n        i0.ɵɵpipe(52, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(53, \"hr\", 18);\n        i0.ɵɵtemplate(54, SettingsComponent_div_54_Template, 2, 1, \"div\", 22);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 20, \"pageHeader.Settings\"), \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"@fadeInOut\", undefined);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(38, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 22, \"settings.tab.Profile\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(39, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(19, 24, \"settings.tab.Preferences\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", !ctx.canViewUsers);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(40, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(24, 26, \"settings.tab.Users\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", !ctx.canViewRoles);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(41, _c1));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(29, 28, \"settings.tab.Roles\"), \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(34, 30, \"settings.header.UserProfile\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isProfileActivated);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(40, 32, \"settings.header.UserPreferences\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isPreferencesActivated);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(46, 34, \"settings.header.UsersManagements\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.canViewUsers && ctx.isUsersActivated);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(52, 36, \"settings.header.RolesManagement\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.canViewRoles && ctx.isRolesActivated);\n      }\n    },\n    directives: [i3.BootstrapTabDirective, i1.RouterLinkWithHref, i4.NgIf, i5.UserInfoComponent, i6.UserPreferencesComponent, i7.UsersManagementComponent, i8.RolesManagementComponent],\n    pipes: [i9.TranslatePipe],\n    styles: [\".separator-hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:10px}[hidden][_ngcontent-%COMP%]{display:none}\"],\n    data: {\n      animation: [fadeInOut]\n    }\n  });\n  return SettingsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}